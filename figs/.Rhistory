"The distribution of average POLITY scores for war dyads for which trade or gdp data were not available ",
"is plotted in a histogram below the scatterplot.")
text.b <- paste0("Data Sources: ",
"(Wars) Sarkees, Meredith Reid and Frank Wayman (2010). Resort to War: 1816-2007. Washington DC: CQ Press. ",
"(Trade) Barbieri, Katherine and Omar M. G. Omar Keshk. 2016. Correlates of War Project Trade Data Set Codebook, Version 4.0. Online: http://correlatesofwar.org. ",
"Barbieri, Katherine, Omar M. G. Keshk, and Brian Pollins. 2009. ",
"'TRADING DATA: Evaluating our Assumptions and Coding Rules.' Conflict Management and Peace Science. 26(5): 471-491. ",
"(GDP) Maddison Project Database, version 2018. Bolt, Jutta, Robert Inklaar, Herman de Jong and Jan Luiten van Zanden (2018), ",
"'Rebasing Maddison: new income comparisons and the shape of long-run economic development', Maddison Project Working paper 10. ",
"(POLITY) Marshall, M. G., Jaggers, K., & Gurr, T. R. (2002). Polity IV project: Dataset users' manual. College Park: University of Maryland.")
caption.a <- ggparagraph(text.a, size=captionSize)
caption.b <- ggparagraph(text.b, size=captionSize)
caption <- caption.a + caption.b + plot_layout(ncol=1)
polityRail <- warsUnmerged %>% ggplot(aes(x=meanPolity.plot)) +
geom_histogram(fill=warsColor, alpha=1) +
xlim(-10, 10) +
labs(x="Dyad-Year Average POLITY Score", y="Wars with\nMissing Trade") +
theme(axis.title.x=element_text(size=labelSize), axis.title.y=element_text(size=labelSize),
axis.text.x=element_text(size=labelSize), axis.line.x=element_line(),
axis.ticks.y=element_blank(), panel.background=element_blank(),
axis.text.y=element_blank(), axis.line.y=element_blank(),
plot.caption=element_text(size=captionSize, hjust=0))
polityRailCaption <- polityRail + caption + plot_layout(ncol=1)
empty <- ggplot() + geom_point(aes(1,1), colour="white")+
theme(axis.ticks=element_blank(), panel.background=element_blank(),
axis.text=element_blank(), axis.line=element_blank(),
axis.title=element_blank())
captionBlockSize <- 4
leftPanel <- polityDensity + main + polityRail + caption + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
rightPanel <- empty + tradeIntDensity + empty + empty + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
tradeIntDensity <- tradeS %>% ggplot(aes(x=tradeInt.plot)) +
geom_line(stat="density", color=pointsColor) +
theme_classic() +
theme(axis.text=element_blank(), axis.ticks=element_blank(), axis.title=element_blank(), axis.line=element_blank()) +
theme(plot.margin = unit(c(1, 1, 1, 1), "cm")) +
coord_flip()
text.a <- paste0("Notes: Each point is one dyad-year. Red-orange points are dyad-years in which a war began, ",
"sized by the number of battle deaths each side incurred during that war. ",
"Light blue points are a sample of 10,000 dyad-years in which no wars occured. ",
"Economic integration is measured as the average of the countries' directed imports to gdp ratio. ",
"An inverse hyperbolic sine transformation was applied to normalize the economic integration measure. ",
"Economic Integration score lagged by one year. ",
"Margin plots show the density of the transformed economic integration measure and the average POLITY score. ",
"A trend line shows the correlation between economic integration and average POLITY score in the sample of peaceful dyads. ",
"The distribution of average POLITY scores for war dyads for which trade or gdp data were not available ",
"is plotted in a histogram below the scatterplot.")
text.b <- paste0("Data Sources: ",
"(Wars) Sarkees, Meredith Reid and Frank Wayman (2010). Resort to War: 1816-2007. Washington DC: CQ Press. ",
"(Trade) Barbieri, Katherine and Omar M. G. Omar Keshk. 2016. Correlates of War Project Trade Data Set Codebook, Version 4.0. Online: http://correlatesofwar.org. ",
"Barbieri, Katherine, Omar M. G. Keshk, and Brian Pollins. 2009. ",
"'TRADING DATA: Evaluating our Assumptions and Coding Rules.' Conflict Management and Peace Science. 26(5): 471-491. ",
"(GDP) Maddison Project Database, version 2018. Bolt, Jutta, Robert Inklaar, Herman de Jong and Jan Luiten van Zanden (2018), ",
"'Rebasing Maddison: new income comparisons and the shape of long-run economic development', Maddison Project Working paper 10. ",
"(POLITY) Marshall, M. G., Jaggers, K., & Gurr, T. R. (2002). Polity IV project: Dataset users' manual. College Park: University of Maryland.")
caption.a <- ggparagraph(text.a, size=captionSize)
caption.b <- ggparagraph(text.b, size=captionSize)
caption <- caption.a + caption.b + plot_layout(ncol=1)
polityRail <- warsUnmerged %>% ggplot(aes(x=meanPolity.plot)) +
geom_histogram(fill=warsColor, alpha=1) +
xlim(-10, 10) +
labs(x="Dyad-Year Average POLITY Score", y="Wars with\nMissing Trade") +
theme(axis.title.x=element_text(size=labelSize), axis.title.y=element_text(size=labelSize),
axis.text.x=element_text(size=labelSize), axis.line.x=element_line(),
axis.ticks.y=element_blank(), panel.background=element_blank(),
axis.text.y=element_blank(), axis.line.y=element_blank(),
plot.caption=element_text(size=captionSize, hjust=0))
polityRailCaption <- polityRail + caption + plot_layout(ncol=1)
empty <- ggplot() + geom_point(aes(1,1), colour="white")+
theme(axis.ticks=element_blank(), panel.background=element_blank(),
axis.text=element_blank(), axis.line=element_blank(),
axis.title=element_blank())
captionBlockSize <- 4
leftPanel <- polityDensity + main + polityRail + caption + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
rightPanel <- empty + tradeIntDensity + empty + empty + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
tradeIntDensity
tradeIntDensity <- tradeS %>% ggplot(aes(x=tradeInt.plot)) +
geom_line(stat="density", color=pointsColor) +
theme_classic() +
theme(axis.text=element_text(), axis.ticks=element_blank(), axis.title=element_blank(), axis.line=element_blank()) +
theme(plot.margin = unit(c(0, 0, 0, 0), "cm")) +
coord_flip()
text.a <- paste0("Notes: Each point is one dyad-year. Red-orange points are dyad-years in which a war began, ",
"sized by the number of battle deaths each side incurred during that war. ",
"Light blue points are a sample of 10,000 dyad-years in which no wars occured. ",
"Economic integration is measured as the average of the countries' directed imports to gdp ratio. ",
"An inverse hyperbolic sine transformation was applied to normalize the economic integration measure. ",
"Economic Integration score lagged by one year. ",
"Margin plots show the density of the transformed economic integration measure and the average POLITY score. ",
"A trend line shows the correlation between economic integration and average POLITY score in the sample of peaceful dyads. ",
"The distribution of average POLITY scores for war dyads for which trade or gdp data were not available ",
"is plotted in a histogram below the scatterplot.")
text.b <- paste0("Data Sources: ",
"(Wars) Sarkees, Meredith Reid and Frank Wayman (2010). Resort to War: 1816-2007. Washington DC: CQ Press. ",
"(Trade) Barbieri, Katherine and Omar M. G. Omar Keshk. 2016. Correlates of War Project Trade Data Set Codebook, Version 4.0. Online: http://correlatesofwar.org. ",
"Barbieri, Katherine, Omar M. G. Keshk, and Brian Pollins. 2009. ",
"'TRADING DATA: Evaluating our Assumptions and Coding Rules.' Conflict Management and Peace Science. 26(5): 471-491. ",
"(GDP) Maddison Project Database, version 2018. Bolt, Jutta, Robert Inklaar, Herman de Jong and Jan Luiten van Zanden (2018), ",
"'Rebasing Maddison: new income comparisons and the shape of long-run economic development', Maddison Project Working paper 10. ",
"(POLITY) Marshall, M. G., Jaggers, K., & Gurr, T. R. (2002). Polity IV project: Dataset users' manual. College Park: University of Maryland.")
caption.a <- ggparagraph(text.a, size=captionSize)
caption.b <- ggparagraph(text.b, size=captionSize)
caption <- caption.a + caption.b + plot_layout(ncol=1)
polityRail <- warsUnmerged %>% ggplot(aes(x=meanPolity.plot)) +
geom_histogram(fill=warsColor, alpha=1) +
xlim(-10, 10) +
labs(x="Dyad-Year Average POLITY Score", y="Wars with\nMissing Trade") +
theme(axis.title.x=element_text(size=labelSize), axis.title.y=element_text(size=labelSize),
axis.text.x=element_text(size=labelSize), axis.line.x=element_line(),
axis.ticks.y=element_blank(), panel.background=element_blank(),
axis.text.y=element_blank(), axis.line.y=element_blank(),
plot.caption=element_text(size=captionSize, hjust=0))
polityRailCaption <- polityRail + caption + plot_layout(ncol=1)
empty <- ggplot() + geom_point(aes(1,1), colour="white")+
theme(axis.ticks=element_blank(), panel.background=element_blank(),
axis.text=element_blank(), axis.line=element_blank(),
axis.title=element_blank())
captionBlockSize <- 4
leftPanel <- polityDensity + main + polityRail + caption + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
rightPanel <- empty + tradeIntDensity + empty + empty + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
ggarrange(polityDensity, main, polityRail, caption)
ggarrange(polityDensity, main, polityRail, caption, ncol=1)
ggarrange(polityDensity, main, polityRail, caption, ncol=1, nrow=4)
ggarrange(polityDensity, main, polityRail, caption, ncol=1, nrow=4, heights=c(1, 10, 2, captionBlockSize))
leftPanel <- polityDensity + main + polityRail + caption + plot_layout(ncol=1, heights=c(2, 10, 2, captionBlockSize))
rightPanel <- empty + tradeIntDensity + empty + empty + plot_layout(ncol=1, heights=c(2, 10, 2, captionBlockSize))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
polityDensity <- tradeS %>% ggplot(aes(x=meanPolity.plot)) +
geom_line(stat="density", color=pointsColor) +
labs(title="The Commercial-Democratic Peace, 1870-2014") +
theme_classic() +
theme(axis.text=element_blank(), axis.ticks=element_blank(),
axis.title=element_blank(), axis.line=element_blank(),
plot.title=element_text(size=titleSize))
tradeIntDensity <- tradeS %>% ggplot(aes(x=tradeInt.plot)) +
geom_line(stat="density", color=pointsColor) +
theme_classic() +
theme(axis.text=element_blank(), axis.ticks=element_blank(), axis.title=element_blank(), axis.line=element_blank()) +
# theme(plot.margin = unit(c(0, 0, 0, 0), "cm")) +
coord_flip()
# unplotted wars with polity data
# polityRail <- warsUnmerged %>% ggplot(aes(x=meanPolity.plot, y=zeros, size=meanPop)) +
#   geom_jitter(color=warsColor, alpha=.75, width=.01) +
#   xlim(-10, 10) +
#   labs(x="Dyad Average POLITY Score") +
#   theme(axis.ticks.y=element_blank(), panel.background=element_blank(),
#         axis.text.y=element_blank(), axis.line.y=element_blank(),
#         axis.title.y=element_blank()) +
#   guides(size=FALSE)
# C <- paste("first line \n second line", expression(frac("x","y")))
#
# plot(expression("some text frac(x,y) \n some more text"))
# plot(1, main=expression(frac(x,y)))
#
# plot(TeX(expression(paste0(bold("Unit of observation: dyad-year"), "\n", "Economic integration:",
#                 "more stuff \n", "test"))))
# C <- expression(paste(bold("Data Sources: \n"), "test1 \n", "test2 \n", "test3"))
# doesn't seem to be working with more than one layer
# C <- "test1 \ntest2 \ntest3 \nbold('fancy one')"
# https://stackoverflow.com/questions/36001047/n-command-not-working-to-make-2-or-3-line-long-figure-caption-using-textgrob/36004120#36004120
# table_label <- function(label, params=list())  {
#
#   params <- modifyList(list(hjust=0, x=0), params)
#
#   mytheme <- ttheme_minimal(core = list(fg_params = params), parse=TRUE)
#   disect <- strsplit(label, "\\n")[[1]]
#   m <- as.matrix(disect)
#   tableGrob(m, theme=mytheme)
#
# }
#
# txt <- 'bold("Figure 1")\nThis is another line.\n alpha~beta*" are greek letters"'
# g <- table_label(txt)
text.a <- paste0("Notes: Each point is one dyad-year. Red-orange points are dyad-years in which a war began, ",
"sized by the number of battle deaths each side incurred during that war. ",
"Light blue points are a sample of 10,000 dyad-years in which no wars occured. ",
"Economic integration is measured as the average of the countries' directed imports to gdp ratio. ",
"An inverse hyperbolic sine transformation was applied to normalize the economic integration measure. ",
"Economic Integration score lagged by one year. ",
"Margin plots show the density of the transformed economic integration measure and the average POLITY score. ",
"A trend line shows the correlation between economic integration and average POLITY score in the sample of peaceful dyads. ",
"The distribution of average POLITY scores for war dyads for which trade or gdp data were not available ",
"is plotted in a histogram below the scatterplot.")
text.b <- paste0("Data Sources: ",
"(Wars) Sarkees, Meredith Reid and Frank Wayman (2010). Resort to War: 1816-2007. Washington DC: CQ Press. ",
"(Trade) Barbieri, Katherine and Omar M. G. Omar Keshk. 2016. Correlates of War Project Trade Data Set Codebook, Version 4.0. Online: http://correlatesofwar.org. ",
"Barbieri, Katherine, Omar M. G. Keshk, and Brian Pollins. 2009. ",
"'TRADING DATA: Evaluating our Assumptions and Coding Rules.' Conflict Management and Peace Science. 26(5): 471-491. ",
"(GDP) Maddison Project Database, version 2018. Bolt, Jutta, Robert Inklaar, Herman de Jong and Jan Luiten van Zanden (2018), ",
"'Rebasing Maddison: new income comparisons and the shape of long-run economic development', Maddison Project Working paper 10. ",
"(POLITY) Marshall, M. G., Jaggers, K., & Gurr, T. R. (2002). Polity IV project: Dataset users' manual. College Park: University of Maryland.")
# text.b <- paste0("This is a test")
caption.a <- ggparagraph(text.a, size=captionSize)
caption.b <- ggparagraph(text.b, size=captionSize)
caption <- caption.a + caption.b + plot_layout(ncol=1)
# caption.b <- ggparagraph("Data Sources", size=captionSize, face="bold")
#
# caption.c <- ggparagraph("Wars: test", size=captionSize, face="bold")
#
# caption.d <- ggparagraph("Trade: test", size=captionSize, face="bold")
#
# caption.e <- ggparagraph("GDP: test", size=captionSize, face="bold")
#
# caption.f <- ggparagraph("POLITY: test", size=captionSize, face="bold")
# caption <- caption.a + caption.b + caption.c + plot_layout(ncol=1, heights=c(2, 1, 1))
# caption <- ggarrange(caption.a, caption.b, caption.c, caption.d, caption.e, caption.f,
#                      ncol=1, nrow=6)
polityRail <- warsUnmerged %>% ggplot(aes(x=meanPolity.plot)) +
geom_histogram(fill=warsColor, alpha=1) +
xlim(-10, 10) +
labs(x="Dyad-Year Average POLITY Score", y="Wars with\nMissing Trade") +
theme(axis.title.x=element_text(size=labelSize), axis.title.y=element_text(size=labelSize),
axis.text.x=element_text(size=labelSize), axis.line.x=element_line(),
axis.ticks.y=element_blank(), panel.background=element_blank(),
axis.text.y=element_blank(), axis.line.y=element_blank(),
plot.caption=element_text(size=captionSize, hjust=0))
polityRailCaption <- polityRail + caption + plot_layout(ncol=1)
empty <- ggplot() + geom_point(aes(1,1), colour="white")+
theme(axis.ticks=element_blank(), panel.background=element_blank(),
axis.text=element_blank(), axis.line=element_blank(),
axis.title=element_blank())
captionBlockSize <- 4
leftPanel <- polityDensity + main + polityRail + caption + plot_layout(ncol=1, heights=c(2, 10, 2, captionBlockSize))
rightPanel <- empty + tradeIntDensity + empty + empty + plot_layout(ncol=1, heights=c(2, 10, 2, captionBlockSize))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
leftPanel <- polityDensity + main + polityRail + caption + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
rightPanel <- empty + tradeIntDensity + empty + empty + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
all <- leftPanel + rightPanel + plot_layout(ncol=2, widths=c(8, 1))
all
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
rightPanel <- empty + tradeIntDensity + empty + plot_layout(ncol=1, heights=c(1, 10, captionBlockSize + 2))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
rightPanel <- empty + tradeIntDensity + empty + empty + empty + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
captionBlockSize <- 3
leftPanel <- polityDensity + main + polityRail + caption.a + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
rightPanel <- empty + tradeIntDensity + empty + empty + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
captionBlockSize <- 4
leftPanel <- polityDensity + main + polityRail + caption.a + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
rightPanel <- empty + tradeIntDensity + empty + empty + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
captionBlockSize <- 2
leftPanel <- polityDensity + main + polityRail + caption.a + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
rightPanel <- empty + tradeIntDensity + empty + empty + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
leftPanel <- polityDensity + main + polityRail + caption.a + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
rightPanel <- empty + tradeIntDensity + empty + empty + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 2))
all
polityDensity <- tradeS %>% ggplot(aes(x=meanPolity.plot)) +
geom_line(stat="density", color=pointsColor) +
labs(title="") +
theme_classic() +
theme(axis.text=element_blank(), axis.ticks=element_blank(),
axis.title=element_blank(), axis.line=element_blank(),
plot.title=element_text(size=titleSize))
tradeIntDensity <- tradeS %>% ggplot(aes(x=tradeInt.plot)) +
geom_line(stat="density", color=pointsColor) +
theme_classic() +
theme(axis.text=element_blank(), axis.ticks=element_blank(), axis.title=element_blank(), axis.line=element_blank()) +
# theme(plot.margin = unit(c(0, 0, 0, 0), "cm")) +
coord_flip()
# unplotted wars with polity data
# polityRail <- warsUnmerged %>% ggplot(aes(x=meanPolity.plot, y=zeros, size=meanPop)) +
#   geom_jitter(color=warsColor, alpha=.75, width=.01) +
#   xlim(-10, 10) +
#   labs(x="Dyad Average POLITY Score") +
#   theme(axis.ticks.y=element_blank(), panel.background=element_blank(),
#         axis.text.y=element_blank(), axis.line.y=element_blank(),
#         axis.title.y=element_blank()) +
#   guides(size=FALSE)
# C <- paste("first line \n second line", expression(frac("x","y")))
#
# plot(expression("some text frac(x,y) \n some more text"))
# plot(1, main=expression(frac(x,y)))
#
# plot(TeX(expression(paste0(bold("Unit of observation: dyad-year"), "\n", "Economic integration:",
#                 "more stuff \n", "test"))))
# C <- expression(paste(bold("Data Sources: \n"), "test1 \n", "test2 \n", "test3"))
# doesn't seem to be working with more than one layer
# C <- "test1 \ntest2 \ntest3 \nbold('fancy one')"
# https://stackoverflow.com/questions/36001047/n-command-not-working-to-make-2-or-3-line-long-figure-caption-using-textgrob/36004120#36004120
# table_label <- function(label, params=list())  {
#
#   params <- modifyList(list(hjust=0, x=0), params)
#
#   mytheme <- ttheme_minimal(core = list(fg_params = params), parse=TRUE)
#   disect <- strsplit(label, "\\n")[[1]]
#   m <- as.matrix(disect)
#   tableGrob(m, theme=mytheme)
#
# }
#
# txt <- 'bold("Figure 1")\nThis is another line.\n alpha~beta*" are greek letters"'
# g <- table_label(txt)
text.a <- paste0("Notes: Each point is one dyad-year. Red-orange points are dyad-years in which a war began, ",
"sized by the number of battle deaths each side incurred during that war. ",
"Light blue points are a sample of 10,000 dyad-years in which no wars occured. ",
"Economic integration is measured as the average of the countries' directed imports to gdp ratio. ",
"An inverse hyperbolic sine transformation was applied to normalize the economic integration measure. ",
"Economic Integration score lagged by one year. ",
"Margin plots show the density of the transformed economic integration measure and the average POLITY score. ",
"A trend line shows the correlation between economic integration and average POLITY score in the sample of peaceful dyads. ",
"The distribution of average POLITY scores for war dyads for which trade or gdp data were not available ",
"is plotted in a histogram below the scatterplot.")
text.b <- paste0("Data Sources: ",
"(Wars) Sarkees, Meredith Reid and Frank Wayman (2010). Resort to War: 1816-2007. Washington DC: CQ Press. ",
"(Trade) Barbieri, Katherine and Omar M. G. Omar Keshk. 2016. Correlates of War Project Trade Data Set Codebook, Version 4.0. Online: http://correlatesofwar.org. ",
"Barbieri, Katherine, Omar M. G. Keshk, and Brian Pollins. 2009. ",
"'TRADING DATA: Evaluating our Assumptions and Coding Rules.' Conflict Management and Peace Science. 26(5): 471-491. ",
"(GDP) Maddison Project Database, version 2018. Bolt, Jutta, Robert Inklaar, Herman de Jong and Jan Luiten van Zanden (2018), ",
"'Rebasing Maddison: new income comparisons and the shape of long-run economic development', Maddison Project Working paper 10. ",
"(POLITY) Marshall, M. G., Jaggers, K., & Gurr, T. R. (2002). Polity IV project: Dataset users' manual. College Park: University of Maryland.")
# text.b <- paste0("This is a test")
caption.a <- ggparagraph(text.a, size=captionSize)
caption.b <- ggparagraph(text.b, size=captionSize)
caption <- caption.a + caption.b + plot_layout(ncol=1)
# caption.b <- ggparagraph("Data Sources", size=captionSize, face="bold")
#
# caption.c <- ggparagraph("Wars: test", size=captionSize, face="bold")
#
# caption.d <- ggparagraph("Trade: test", size=captionSize, face="bold")
#
# caption.e <- ggparagraph("GDP: test", size=captionSize, face="bold")
#
# caption.f <- ggparagraph("POLITY: test", size=captionSize, face="bold")
# caption <- caption.a + caption.b + caption.c + plot_layout(ncol=1, heights=c(2, 1, 1))
# caption <- ggarrange(caption.a, caption.b, caption.c, caption.d, caption.e, caption.f,
#                      ncol=1, nrow=6)
polityRail <- warsUnmerged %>% ggplot(aes(x=meanPolity.plot)) +
geom_histogram(fill=warsColor, alpha=1) +
xlim(-10, 10) +
labs(x="Dyad-Year Average POLITY Score", y="Wars with\nMissing Trade") +
theme(axis.title.x=element_text(size=labelSize), axis.title.y=element_text(size=labelSize),
axis.text.x=element_text(size=labelSize), axis.line.x=element_line(),
axis.ticks.y=element_blank(), panel.background=element_blank(),
axis.text.y=element_blank(), axis.line.y=element_blank(),
plot.caption=element_text(size=captionSize, hjust=0))
polityRailCaption <- polityRail + caption + plot_layout(ncol=1)
empty <- ggplot() + geom_point(aes(1,1), colour="white")+
theme(axis.ticks=element_blank(), panel.background=element_blank(),
axis.text=element_blank(), axis.line=element_blank(),
axis.title=element_blank())
# captionBlockSize <- 4
#
# leftPanel <- polityDensity + main + polityRail + caption + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
# rightPanel <- empty + tradeIntDensity + empty + empty + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
# all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
# all
captionBlockSize <- 2
leftPanel <- polityDensity + main + polityRail + caption.a + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
rightPanel <- empty + tradeIntDensity + empty + empty + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
caption.a
polityRailCaption <- polityRail + caption.a + plot_layout(ncol=1)
polityRailCaption
leftPanel <- polityDensity + main + polityRail + plot_layout(ncol=1, heights=c(1, 10, 4))
rightPanel <- empty + tradeIntDensity + empty + plot_layout(ncol=1, heights=c(1, 10, 4))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
leftPanel <- polityDensity + main + polityRailCaption + plot_layout(ncol=1, heights=c(1, 10, 4))
rightPanel <- empty + tradeIntDensity + empty + plot_layout(ncol=1, heights=c(1, 10, 4))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
pos <- position_jitter()
main <- tradeS %>% ggplot(aes(x=meanPolity.plot, y=tradeInt.plot, label=lab)) +
# geom_point(size=.5, alpha=.5) +
stat_smooth(geom="line", method="lm", se=FALSE, color=lineColor, size=.75, alpha=1) +
geom_point( alpha=.2, fill=pointsColor, color=pointsColor, pch=21,
position=pos) +
geom_point(data=tradeFwars, aes(size=deaths, text=dyadName),
alpha=1, fill=warsColor, color="black", pch=21, stroke=.5,
position=pos) +
geom_text_repel(data=tradeFwars, size=3, box.padding = unit(0.75, "lines"), position=pos) +
geom_text_repel(data=tradeS, size=3, box.padding = unit(0.75, "lines"), position=pos) +
scale_size_continuous(range = c(maxSize / 10, maxSize)) +
# annotate("text", x=-5, y=max(tradeS$tradeInt.plot), label="More Autocratic", size=annotationSize, hjust=0, vjust=.5) +
# annotate("segment", x=-5.5, xend=-8, y=max(tradeS$tradeInt.plot), yend=max(tradeS$tradeInt.plot), arrow=arrow(), size=.5) +
# annotate("text", x=5, y=max(tradeS$tradeInt.plot), label="More Democratic", size=annotationSize, hjust=1, vjust=.5) +
# annotate("segment", x=5.5, xend=8, y=max(tradeS$tradeInt.plot), yend=max(tradeS$tradeInt.plot), arrow=arrow(), size=.5) +
# geom_line(aes(x=meanPolity, y=tradeInt.pred)) +
labs(x="Dyad-Year Average POLITY Score", y="Dyad-Year Economic Integration") +
# ggtitle("Political Bias, Trade, and War, 1870-2014") +
theme_classic() +
theme(axis.title.y=element_text(size=labelSize),
axis.ticks.y=element_blank(), axis.text.y=element_blank(),
axis.title.x=element_blank()) +
theme(axis.text.x=element_text(size=labelSize)) +
# theme(axis.text.x=element_blank(), axis.ticks.x=element_blank(), axis.line.x=element_blank()) +
guides(size=FALSE)
polityDensity <- tradeS %>% ggplot(aes(x=meanPolity.plot)) +
geom_line(stat="density", color=pointsColor) +
labs(title="The Commercial-Democratic Peace, 1870-2014") +
theme_classic() +
theme(axis.text=element_blank(), axis.ticks=element_blank(),
axis.title=element_blank(), axis.line=element_blank(),
plot.title=element_text(size=titleSize))
tradeIntDensity <- tradeS %>% ggplot(aes(x=tradeInt.plot)) +
geom_line(stat="density", color=pointsColor) +
theme_classic() +
theme(axis.text=element_blank(), axis.ticks=element_blank(), axis.title=element_blank(), axis.line=element_blank()) +
# theme(plot.margin = unit(c(0, 0, 0, 0), "cm")) +
coord_flip()
# unplotted wars with polity data
# polityRail <- warsUnmerged %>% ggplot(aes(x=meanPolity.plot, y=zeros, size=meanPop)) +
#   geom_jitter(color=warsColor, alpha=.75, width=.01) +
#   xlim(-10, 10) +
#   labs(x="Dyad Average POLITY Score") +
#   theme(axis.ticks.y=element_blank(), panel.background=element_blank(),
#         axis.text.y=element_blank(), axis.line.y=element_blank(),
#         axis.title.y=element_blank()) +
#   guides(size=FALSE)
# C <- paste("first line \n second line", expression(frac("x","y")))
#
# plot(expression("some text frac(x,y) \n some more text"))
# plot(1, main=expression(frac(x,y)))
#
# plot(TeX(expression(paste0(bold("Unit of observation: dyad-year"), "\n", "Economic integration:",
#                 "more stuff \n", "test"))))
# C <- expression(paste(bold("Data Sources: \n"), "test1 \n", "test2 \n", "test3"))
# doesn't seem to be working with more than one layer
# C <- "test1 \ntest2 \ntest3 \nbold('fancy one')"
# https://stackoverflow.com/questions/36001047/n-command-not-working-to-make-2-or-3-line-long-figure-caption-using-textgrob/36004120#36004120
# table_label <- function(label, params=list())  {
#
#   params <- modifyList(list(hjust=0, x=0), params)
#
#   mytheme <- ttheme_minimal(core = list(fg_params = params), parse=TRUE)
#   disect <- strsplit(label, "\\n")[[1]]
#   m <- as.matrix(disect)
#   tableGrob(m, theme=mytheme)
#
# }
#
# txt <- 'bold("Figure 1")\nThis is another line.\n alpha~beta*" are greek letters"'
# g <- table_label(txt)
text.a <- paste0("Notes: Each point is one dyad-year. Red-orange points are dyad-years in which a war began, ",
"sized by the number of battle deaths each side incurred during that war. ",
"Light blue points are a sample of 10,000 dyad-years in which no wars occured. ",
"Economic integration is measured as the average of the countries' directed imports to gdp ratio. ",
"An inverse hyperbolic sine transformation was applied to normalize the economic integration measure. ",
"Economic Integration score lagged by one year. ",
"Margin plots show the density of the transformed economic integration measure and the average POLITY score. ",
"A trend line shows the correlation between economic integration and average POLITY score in the sample of peaceful dyads. ",
"The distribution of average POLITY scores for war dyads for which trade or gdp data were not available ",
"is plotted in a histogram below the scatterplot.")
text.b <- paste0("Data Sources: ",
"(Wars) Sarkees, Meredith Reid and Frank Wayman (2010). Resort to War: 1816-2007. Washington DC: CQ Press. ",
"(Trade) Barbieri, Katherine and Omar M. G. Omar Keshk. 2016. Correlates of War Project Trade Data Set Codebook, Version 4.0. Online: http://correlatesofwar.org. ",
"Barbieri, Katherine, Omar M. G. Keshk, and Brian Pollins. 2009. ",
"'TRADING DATA: Evaluating our Assumptions and Coding Rules.' Conflict Management and Peace Science. 26(5): 471-491. ",
"(GDP) Maddison Project Database, version 2018. Bolt, Jutta, Robert Inklaar, Herman de Jong and Jan Luiten van Zanden (2018), ",
"'Rebasing Maddison: new income comparisons and the shape of long-run economic development', Maddison Project Working paper 10. ",
"(POLITY) Marshall, M. G., Jaggers, K., & Gurr, T. R. (2002). Polity IV project: Dataset users' manual. College Park: University of Maryland.")
# text.b <- paste0("This is a test")
caption.a <- ggparagraph(text.a, size=captionSize)
caption.b <- ggparagraph(text.b, size=captionSize)
caption <- caption.a + caption.b + plot_layout(ncol=1)
# caption.b <- ggparagraph("Data Sources", size=captionSize, face="bold")
#
# caption.c <- ggparagraph("Wars: test", size=captionSize, face="bold")
#
# caption.d <- ggparagraph("Trade: test", size=captionSize, face="bold")
#
# caption.e <- ggparagraph("GDP: test", size=captionSize, face="bold")
#
# caption.f <- ggparagraph("POLITY: test", size=captionSize, face="bold")
# caption <- caption.a + caption.b + caption.c + plot_layout(ncol=1, heights=c(2, 1, 1))
# caption <- ggarrange(caption.a, caption.b, caption.c, caption.d, caption.e, caption.f,
#                      ncol=1, nrow=6)
polityRail <- warsUnmerged %>% ggplot(aes(x=meanPolity.plot)) +
geom_histogram(fill=warsColor, alpha=1) +
xlim(-10, 10) +
labs(x="Dyad-Year Average POLITY Score", y="Wars with\nMissing Trade") +
theme(axis.title.x=element_text(size=labelSize), axis.title.y=element_text(size=labelSize),
axis.text.x=element_text(size=labelSize), axis.line.x=element_line(),
axis.ticks.y=element_blank(), panel.background=element_blank(),
axis.text.y=element_blank(), axis.line.y=element_blank(),
plot.caption=element_text(size=captionSize, hjust=0))
polityRailCaption <- polityRail + caption.a + plot_layout(ncol=1)
empty <- ggplot() + geom_point(aes(1,1), colour="white")+
theme(axis.ticks=element_blank(), panel.background=element_blank(),
axis.text=element_blank(), axis.line=element_blank(),
axis.title=element_blank())
# captionBlockSize <- 4
#
# leftPanel <- polityDensity + main + polityRail + caption + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
# rightPanel <- empty + tradeIntDensity + empty + empty + plot_layout(ncol=1, heights=c(1, 10, 2, captionBlockSize))
# all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
# all
captionBlockSize <- 2
leftPanel <- polityDensity + main + polityRailCaption + plot_layout(ncol=1, heights=c(1, 10, 4))
rightPanel <- empty + tradeIntDensity + empty + plot_layout(ncol=1, heights=c(1, 10, 4))
all <- leftPanel - rightPanel + plot_layout(widths=c(8, 1))
all
